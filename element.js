customElements.define("file-size",class extends HTMLElement{connectedCallback(e=this.getAttribute("max")||48e3,t=this.getAttribute("src")||"https://file-size.github.io/element.js",i,l,r,s=(e=>this.querySelector("i").innerHTML=e),n=(()=>{if(!l){s("open gzthermal analysis");(l=this.querySelector("img")).onerror=e=>s("file too large");l.onload=e=>{s("");l.onclick=e=>{e.altKey?open(t,"_blank").focus():r.removeAttribute("open")}};l.src="https://gzthermal.vercel.app/?url="+t}})){this.setAttribute("title",t);fetch(t,{mode:"cors"}).then((l=>{i=~~l.headers.get("content-length")||"no";this.innerHTML=`<details style=font:16px,arial;cursor:pointer><summary><b style=color:dark${i<e?"green":"red"};display:inline-block;width:4em;text-align:right>${i}</b> bytes ${t} <i/></summary><img style="max-width:98%"></details>`;(r=this.querySelector("details")).ontoggle=e=>r.open&&n();this.hasAttribute("gz")&&r.setAttribute("open","open")})).catch((e=>{this.innerHTML=`<b style=font:16px,arial;color:red>&ltfile-size> ${e} : ${t}</b>`}))}})
