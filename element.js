customElements.define("file-size",class extends HTMLElement{connectedCallback(source=this.getAttribute("src")||"https://file-size.github.io/element.js",img,maxbytes=this.getAttribute("max")||49152,gzthermal=(()=>{img||(this.querySelector("i").innerHTML="loading gzthermal",(img=this.querySelector("img")).onerror=e=>new Error("rate limit"),img.onload=e=>{this.querySelector("i").innerHTML="",img.style.width=(this.getAttribute("width")||"700")+"px",this.querySelector("details").setAttribute("open","open"),img.onclick=e=>{e.altKey?open(source,"_blank").focus():this.querySelector("details").removeAttribute("open")}},img.src="https://gzthermal.vercel.app/?url="+source)})){this.setAttribute("title",source),fetch(source,{mode:"cors"}).then((response=>{this.length=Number(response.headers.get("content-length")),this.innerHTML=`<details style="cursor:pointer;font:16px arial"><summary><b style="color:dark${this.length<maxbytes?"green":"red"};display:inline-block;width:4em;text-align:right">${this.length}</b> &nbsp;Bytes ${source} <i/></summary><img/></details>`,this.querySelector("details").ontoggle=e=>{this.querySelector("details").open&&gzthermal()},this.hasAttribute("gz")&&gzthermal()})).catch((e=>{this.innerHTML=`<b style="font:16px arial;color:red">&lt;file-size> ${e} : ${source}</b>`}))}});