customElements.define("file-size",class extends HTMLElement{connectedCallback(e=this.getAttribute("max")||49152,t=this.getAttribute("src")||"https://file-size.github.io/element.js",i,r=!1,s=(()=>{if(!r){this.querySelector("i").innerHTML="Loading GZIP Thermal analysis";(r=this.querySelector("img")).onerror=e=>this.querySelector("i").innerHTML="Too many bytes";r.onload=e=>{this.querySelector("i").innerHTML="";this.querySelector("details").setAttribute("open","open");r.onclick=e=>{e.altKey?open(t,"_blank").focus():this.querySelector("details").removeAttribute("open")}};r.src="https://gzthermal.vercel.app/?url="+t}})){this.setAttribute("title",t);fetch(t,{mode:"cors"}).then((r=>{i=Number(r.headers.get("content-length"))||"no";this.innerHTML=`<details style="cursor:pointer;font:16px arial"><summary><b style="color:dark${i<e?"green":"red"};display:inline-block;width:4em;text-align:right">${i}</b> &nbsp;Bytes ${t} <i/></summary><img style="max-width:98%"/></details>`;let l=this.querySelector("details");l.addEventListener("toggle",(e=>{l.open&&s()}));this.hasAttribute("gz")&&s()})).catch((e=>{this.innerHTML=`<b style="font:16px arial;color:red">&ltfile-size> ${e} : ${t}</b>`}))}})
